{"openapi":"3.1.0","info":{"title":"Platform Operator","description":"Platform","contact":{"name":"Platfus","url":"http://localhost:3030/","email":"support@operator.com"},"version":"0.0.1"},"paths":{"/scenario":{"post":{"tags":["Scenario"],"summary":"Submit Scenario Async","description":"Submit a new scenario. This method is Async it will always return Accepted (202) and the status will return to the orchestrator only.","operationId":"submit_scenario_async_scenario_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Scenario"}}},"required":true},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Scenario"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/scenario/{scenario_id}":{"get":{"tags":["Scenario"],"summary":"Get Scenario","description":"<b>Not Used! Only for generating example scenario status schema</b>","operationId":"get_scenario_scenario__scenario_id__get","parameters":[{"name":"scenario_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Scenario Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScenarioResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/characters":{"get":{"tags":["Characters"],"summary":"Get All Characters","description":"Returns all the Characters that are currently running in this operator","operationId":"get_all_characters_characters_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ProfileWorkerView"},"type":"array","title":"Response Get All Characters Characters Get"}}}}}}},"/characters/{character_id}":{"get":{"tags":["Characters"],"summary":"Get Character","description":"Returns a specific character based on its ID","operationId":"get_character_characters__character_id__get","parameters":[{"name":"character_id","in":"path","required":true,"schema":{"type":"string","title":"Character Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/characters/{character_id}/stop":{"post":{"tags":["Characters"],"summary":"Stop Profile","description":"Stops the current character actions and closes all its resources.","operationId":"stop_profile_characters__character_id__stop_post","parameters":[{"name":"character_id","in":"path","required":true,"schema":{"type":"string","title":"Character Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/otp":{"get":{"tags":["OTP"],"summary":"Submit Otp","description":"Returns all the Characters that are currently running in this operator","operationId":"submit_otp_otp_get","parameters":[{"name":"profile_id","in":"query","required":true,"schema":{"type":"string","title":"Profile Id"}},{"name":"otp","in":"query","required":true,"schema":{"type":"string","title":"Otp"}},{"name":"verify_profile_exists","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Verify Profile Exists"}},{"name":"should_override","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Should Override"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/activation":{"get":{"tags":["Activation"],"summary":"Activation","description":"Activate a profile","operationId":"activation_activation_get","parameters":[{"name":"profile_id","in":"query","required":true,"schema":{"type":"string","title":"Profile Id"}},{"name":"verify_profile_exists","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Verify Profile Exists"}},{"name":"should_override","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Should Override"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"ActionPrefrences":{"properties":{"fail_fast":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Fail Fast","default":false}},"type":"object","title":"ActionPrefrences"},"ActionResponse":{"properties":{"id":{"type":"string","title":"Id"},"status":{"$ref":"#/components/schemas/ActionStatus"},"type":{"type":"string","enum":["send_message","join_group","leave_group","reply_to_message","forward_message","behavioural"],"title":"Type"},"content":{"anyOf":[{"$ref":"#/components/schemas/SendMessageResponseContent"},{"$ref":"#/components/schemas/ReplyToMessageResponseContent"},{"$ref":"#/components/schemas/LeaveGroupResponseContent"},{"$ref":"#/components/schemas/JoinGroupResponseContent"},{"$ref":"#/components/schemas/ForwardMessageResponseContent"},{"$ref":"#/components/schemas/BehaviouralResponseContent"},{"type":"null"}],"title":"Content"},"start_time":{"type":"string","format":"date-time","title":"Start Time"}},"type":"object","required":["status","type","content","start_time"],"title":"ActionResponse"},"ActionStatus":{"properties":{"status_code":{"$ref":"#/components/schemas/ActionStatusCode"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["status_code"],"title":"ActionStatus"},"ActionStatusCode":{"type":"string","enum":["success","failed","cancelled"],"title":"ActionStatusCode"},"AsyncWorkerState":{"type":"string","enum":["init","starting","stopping","stopped","idle","working","paused"],"title":"AsyncWorkerState"},"BehaviouralAction":{"properties":{"id":{"type":"string","title":"Id"},"type":{"type":"string","enum":["send_message","join_group","leave_group","reply_to_message","forward_message","behavioural"],"title":"Type","default":"behavioural"},"prefrences":{"$ref":"#/components/schemas/ActionPrefrences","default":{"fail_fast":false}},"args":{"$ref":"#/components/schemas/BehaviouralArgs"}},"type":"object","required":["args"],"title":"BehaviouralAction"},"BehaviouralArgs":{"properties":{"wait_time":{"type":"integer","title":"Wait Time","default":0},"sync_context":{"type":"boolean","title":"Sync Context","default":false},"get_chats":{"type":"boolean","title":"Get Chats","default":false}},"type":"object","title":"BehaviouralArgs"},"BehaviouralResponseContent":{"properties":{"current_context":{"anyOf":[{},{"type":"null"}],"title":"Current Context"},"chats":{"anyOf":[{"items":{},"type":"array"},{"type":"null"}],"title":"Chats"}},"type":"object","title":"BehaviouralResponseContent"},"Character":{"properties":{"id":{"type":"string","title":"Id"}},"type":"object","title":"Character"},"ChatInfo":{"properties":{"id":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Id"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"type":{"anyOf":[{"$ref":"#/components/schemas/ChatType"},{"type":"null"}]},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"}},"type":"object","title":"ChatInfo"},"ChatType":{"type":"string","enum":["User","Group","Channel","Bot","Unknown"],"title":"ChatType"},"ForwardMessageAction":{"properties":{"id":{"type":"string","title":"Id"},"type":{"type":"string","enum":["send_message","join_group","leave_group","reply_to_message","forward_message","behavioural"],"title":"Type","default":"forward_message"},"prefrences":{"$ref":"#/components/schemas/ActionPrefrences","default":{"fail_fast":false}},"args":{"$ref":"#/components/schemas/ForwardMessageArgs"}},"type":"object","required":["args"],"title":"ForwardMessageAction"},"ForwardMessageArgs":{"properties":{"from_chat":{"$ref":"#/components/schemas/ChatInfo"},"message_info":{"$ref":"#/components/schemas/MessageInfo"},"target_chat":{"$ref":"#/components/schemas/ChatInfo"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"}},"type":"object","required":["from_chat","message_info","target_chat"],"title":"ForwardMessageArgs"},"ForwardMessageResponseContent":{"properties":{"message_info":{"$ref":"#/components/schemas/MessageInfo"}},"type":"object","required":["message_info"],"title":"ForwardMessageResponseContent"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"JoinGroupAction":{"properties":{"id":{"type":"string","title":"Id"},"type":{"type":"string","enum":["send_message","join_group","leave_group","reply_to_message","forward_message","behavioural"],"title":"Type","default":"join_group"},"prefrences":{"$ref":"#/components/schemas/ActionPrefrences","default":{"fail_fast":false}},"args":{"$ref":"#/components/schemas/JoinGroupArgs"}},"type":"object","required":["args"],"title":"JoinGroupAction"},"JoinGroupArgs":{"properties":{"chat":{"$ref":"#/components/schemas/ChatInfo"}},"type":"object","required":["chat"],"title":"JoinGroupArgs"},"JoinGroupResponseContent":{"properties":{"members":{"type":"integer","title":"Members"}},"type":"object","required":["members"],"title":"JoinGroupResponseContent"},"LeaveGroupAction":{"properties":{"id":{"type":"string","title":"Id"},"type":{"type":"string","enum":["send_message","join_group","leave_group","reply_to_message","forward_message","behavioural"],"title":"Type","default":"leave_group"},"prefrences":{"$ref":"#/components/schemas/ActionPrefrences","default":{"fail_fast":false}},"args":{"$ref":"#/components/schemas/LeaveGroupArgs"}},"type":"object","required":["args"],"title":"LeaveGroupAction"},"LeaveGroupArgs":{"properties":{"chat":{"$ref":"#/components/schemas/ChatInfo"}},"type":"object","required":["chat"],"title":"LeaveGroupArgs"},"LeaveGroupResponseContent":{"properties":{},"type":"object","title":"LeaveGroupResponseContent"},"MessageInfo":{"properties":{"timestamp":{"type":"string","title":"Timestamp"},"peer_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Peer Id"},"from_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"From Id"},"text_hash":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Text Hash"},"message_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message Id"},"viewer_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Viewer Id"}},"type":"object","required":["timestamp"],"title":"MessageInfo"},"Prefrences":{"properties":{"actions_timeout":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Actions Timeout"},"action_interval":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Action Interval"},"close_browser_when_finished":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Close Browser When Finished","default":true},"should_login_telegram":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Should Login Telegram","default":false},"verify_proxy_working":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Verify Proxy Working","default":false},"fail_fast":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Fail Fast","default":false}},"type":"object","title":"Prefrences"},"ProfileWorkerView":{"properties":{"id":{"type":"string","title":"Id"},"state":{"$ref":"#/components/schemas/AsyncWorkerState"},"current_scenario":{"anyOf":[{"$ref":"#/components/schemas/Scenario"},{"type":"null"}]},"current_scenario_result":{"anyOf":[{"$ref":"#/components/schemas/ScenarioResult"},{"type":"null"}]},"pending_actions":{"type":"integer","title":"Pending Actions"}},"type":"object","required":["state","current_scenario","current_scenario_result","pending_actions"],"title":"ProfileWorkerView"},"ReplyToMessageAction":{"properties":{"id":{"type":"string","title":"Id"},"type":{"type":"string","enum":["send_message","join_group","leave_group","reply_to_message","forward_message","behavioural"],"title":"Type","default":"reply_to_message"},"prefrences":{"$ref":"#/components/schemas/ActionPrefrences","default":{"fail_fast":false}},"args":{"$ref":"#/components/schemas/ReplyToMessageArgs"}},"type":"object","required":["args"],"title":"ReplyToMessageAction"},"ReplyToMessageArgs":{"properties":{"chat":{"$ref":"#/components/schemas/ChatInfo"},"message_info":{"$ref":"#/components/schemas/MessageInfo"},"input_message_content":{"type":"string","title":"Input Message Content"}},"type":"object","required":["chat","message_info","input_message_content"],"title":"ReplyToMessageArgs"},"ReplyToMessageResponseContent":{"properties":{"message_info":{"$ref":"#/components/schemas/MessageInfo"}},"type":"object","required":["message_info"],"title":"ReplyToMessageResponseContent"},"Scenario":{"properties":{"id":{"type":"string","title":"Id"},"profile":{"$ref":"#/components/schemas/Character"},"prefrences":{"$ref":"#/components/schemas/Prefrences"},"actions":{"items":{"anyOf":[{"$ref":"#/components/schemas/JoinGroupAction"},{"$ref":"#/components/schemas/LeaveGroupAction"},{"$ref":"#/components/schemas/ReplyToMessageAction"},{"$ref":"#/components/schemas/SendMessageAction"},{"$ref":"#/components/schemas/ForwardMessageAction"},{"$ref":"#/components/schemas/BehaviouralAction"}]},"type":"array","title":"Actions"}},"type":"object","required":["profile","prefrences","actions"],"title":"Scenario","examples":[{"actions":[{"args":{"wait_time":5},"type":"behavioural"}],"prefrences":{"action_interval":0,"actions_timeout":0,"close_browser_when_finished":false,"fail_fast":true,"should_login_telegram":false,"verify_proxy_working":false},"profile":{"id":"XXXXXXXXXXXXXXXXXXXX"}}]},"ScenarioInfo":{"properties":{"start_time":{"type":"string","format":"date-time","title":"Start Time"},"end_time":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"End Time"}},"type":"object","required":["start_time"],"title":"ScenarioInfo"},"ScenarioResult":{"properties":{"id":{"type":"string","title":"Id"},"status":{"$ref":"#/components/schemas/ScenarioStatus"},"scenario_info":{"$ref":"#/components/schemas/ScenarioInfo"},"actions_responses":{"items":{"$ref":"#/components/schemas/ActionResponse"},"type":"array","title":"Actions Responses"}},"type":"object","required":["status","scenario_info","actions_responses"],"title":"ScenarioResult"},"ScenarioResultStatus":{"type":"string","enum":["success","failed","pending","finished"],"title":"ScenarioResultStatus"},"ScenarioStatus":{"properties":{"status_code":{"$ref":"#/components/schemas/ScenarioResultStatus"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["status_code"],"title":"ScenarioStatus"},"SendMessageAction":{"properties":{"id":{"type":"string","title":"Id"},"type":{"type":"string","enum":["send_message","join_group","leave_group","reply_to_message","forward_message","behavioural"],"title":"Type","default":"send_message"},"prefrences":{"$ref":"#/components/schemas/ActionPrefrences","default":{"fail_fast":false}},"args":{"$ref":"#/components/schemas/SendMessageArgs"}},"type":"object","required":["args"],"title":"SendMessageAction"},"SendMessageArgs":{"properties":{"chat":{"$ref":"#/components/schemas/ChatInfo"},"input_message_content":{"type":"string","title":"Input Message Content"}},"type":"object","required":["chat","input_message_content"],"title":"SendMessageArgs"},"SendMessageResponseContent":{"properties":{"message_info":{"$ref":"#/components/schemas/MessageInfo"}},"type":"object","required":["message_info"],"title":"SendMessageResponseContent"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}